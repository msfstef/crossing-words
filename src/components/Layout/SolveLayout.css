/**
 * SolveLayout: Full-viewport grid container for puzzle solving
 *
 * Uses CSS Grid with template areas:
 * - header: auto height
 * - grid: 1fr (takes remaining space)
 * - clue-bar: auto height
 * - keyboard: auto height (only when present)
 */

.solve-layout {
  /* CSS variables for layout calculations */
  --header-height: 48px;
  --clue-bar-height: 52px;
  --keyboard-height: 160px;
  --grid-padding: 8px;

  display: flex;
  flex-direction: column;
  /* Fallback for browsers without dvh support */
  height: 100vh;
  height: 100dvh; /* Dynamic viewport height for mobile */
  width: 100%;
  overflow: hidden;
  background-color: var(--color-bg);
}

.solve-layout__header {
  flex: 0 0 auto;
  min-height: var(--header-height);
  position: relative;
  z-index: 100; /* Ensure header dropdowns appear above grid */
}

.solve-layout__grid {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  padding: var(--grid-padding);
  min-height: 0; /* Critical: allow flex child to shrink below content size */
}

/* Reduce author margin on mobile to save space */
.solve-layout__grid .puzzle-author {
  margin-bottom: 0.25rem;
  font-size: 0.75rem;
  flex-shrink: 0;
}

.solve-layout__clue-bar {
  flex: 0 0 auto;
  display: flex;
  justify-content: center;
  padding: 0.25rem 0.5rem;
}

.solve-layout__keyboard {
  flex: 0 0 auto;
}

/* When keyboard is not present, don't leave empty space */
.solve-layout__keyboard:empty {
  display: none;
}
