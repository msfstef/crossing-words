---
phase: 10-gameplay-flow-improvements
plan: 01
type: execute
---

<objective>
Implement fixed cell sizing with scalable letters for consistent grid appearance across all puzzle sizes.

Purpose: Currently cells use `1fr` which means cell size varies by puzzle dimensions. A 15x15 puzzle has different cell sizes than a 21x21. Fixed sizing ensures consistent UX and allows letters to scale appropriately within cells.

Output: CrosswordGrid with fixed-size cells, scalable letters, and properly layered clue numbers and verified indicators.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/components/CrosswordGrid.tsx
@src/components/CrosswordGrid.css

**Tech stack available:** React, CSS custom properties, CSS Grid
**Established patterns:** CSS variables for theming, aspect-ratio for squares

**Current implementation:**
- Cells use `gridTemplateColumns: repeat(N, 1fr)` with `aspect-ratio: 1`
- Letter uses `font-size: 1rem` (fixed)
- Clue number: `font-size: 0.6rem`, positioned top-left
- Verified mark: green dot at bottom-right corner via `::after`
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update cell CSS for fixed sizing with scalable letter</name>
  <files>src/components/CrosswordGrid.css, src/components/CrosswordGrid.tsx</files>
  <action>
Change grid layout from `1fr` to fixed cell size:
1. In CrosswordGrid.tsx, change `gridTemplateColumns` from `repeat(N, 1fr)` to `repeat(N, var(--cell-size))`
2. In CrosswordGrid.css, add `--cell-size: clamp(24px, 6vmin, 36px)` to `.crossword-grid` - this provides responsive sizing with min/max bounds
3. Remove `aspect-ratio: 1` from `.crossword-cell` since fixed size handles this
4. For the letter, use `font-size: clamp(0.7rem, calc(var(--cell-size) * 0.55), 1.2rem)` to scale with cell
5. Ensure grid still centers properly with `justify-content: center` on parent
6. Update max-width calculation or remove it since cells are now fixed size

Avoid using viewport units directly for font-size (accessibility concern) - use clamp with rem as minimum.
  </action>
  <verify>
`npm run build` succeeds. Open app with puzzles of different sizes (if available) - cells should appear consistent size, letters should be readable and centered.
  </verify>
  <done>Cells are fixed size with responsive clamping, letters scale proportionally, grid works for various puzzle dimensions.</done>
</task>

<task type="auto">
  <name>Task 2: Update clue number and verified mark layering</name>
  <files>src/components/CrosswordGrid.css</files>
  <action>
Update z-index and sizing for proper layering:

1. Clue number (`.clue-number`):
   - Reduce font-size to `0.5rem` or `clamp(0.4rem, calc(var(--cell-size) * 0.25), 0.55rem)`
   - Keep position top-left but ensure it's behind letter via `z-index: 1`
   - Add `pointer-events: none` to prevent interaction

2. Cell letter (`.cell-letter`):
   - Add `z-index: 2` to ensure it's above clue number
   - Add `position: relative` if not already present

3. Verified mark (`.cell--verified::after`):
   - Change from bottom-right dot to a subtle background indicator
   - Option A: Very subtle green tint on entire cell background
   - Option B: Keep dot but move to bottom-right with `z-index: 0` (behind letter)
   - Reduce size to 4px if keeping dot approach
   - The key is the mark should not compete visually with the letter

4. Ensure all elements respect the cell's bounding box and don't overflow.
  </action>
  <verify>
`npm run build` succeeds. Visually inspect: clue numbers should be subtle in corner, letters clearly visible on top, verified cells should have indicator that doesn't obscure letter.
  </verify>
  <done>Clue numbers are smaller and behind letters, verified mark doesn't compete with letter visibility, proper z-index layering throughout.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] Grid displays correctly with fixed-size cells
- [ ] Letters are readable and centered in cells
- [ ] Clue numbers are visible but don't compete with letters
- [ ] Verified indicator is subtle and behind letter
- [ ] Works on mobile viewport sizes
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript or CSS errors
- Grid appearance is consistent regardless of puzzle size
- Cell content layering is correct (number behind letter behind nothing)
</success_criteria>

<output>
After completion, create `.planning/phases/10-gameplay-flow-improvements/10-01-SUMMARY.md`
</output>
