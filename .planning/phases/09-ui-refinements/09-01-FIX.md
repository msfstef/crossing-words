---
phase: 09-ui-refinements
plan: 09-01-FIX
type: fix
---

<objective>
Fix 3 UAT issues from plan 09-01.

Source: 09-01-ISSUES.md
Priority: 0 critical, 0 major, 3 minor
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md

**Issues being fixed:**
@.planning/phases/09-ui-refinements/09-01-ISSUES.md

**Original plan for reference:**
@.planning/phases/09-ui-refinements/09-01-PLAN.md
</context>

<tasks>

<task type="auto">
  <name>Fix UAT-001: Right-align FAB options</name>
  <files>src/components/Library/FAB.css</files>
  <action>
Change FAB container alignment so expanded options right-align with the FAB button edge instead of centering above it.

In `.fab` selector:
- Change `align-items: center` to `align-items: flex-end`

This ensures the wider option buttons align their right edge with the FAB button's right edge, creating consistent visual distance from the screen edge.
  </action>
  <verify>FAB and options should now have consistent right edge alignment</verify>
  <done>Options right-align with FAB button edge</done>
</task>

<task type="auto">
  <name>Fix UAT-002: Match PuzzleCard layout to LoadingCard</name>
  <files>src/components/Library/PuzzleCard.tsx, src/components/Library/PuzzleCard.css</files>
  <action>
Update PuzzleCard to have a layout more similar to LoadingCard for smoother ghost→real transitions.

The key difference is the progress area:
- LoadingCard: spinner + "Downloading..." text in a horizontal layout
- PuzzleCard: just a ProgressCircle

Keep the ProgressCircle but add consistent layout structure so the card doesn't jump when transitioning. The main change: ensure PuzzleCard's info section displays title/subtitle similarly and the progress section has similar height/spacing.

The structure is already similar (both use source as title, title as subtitle). The visual jarring is likely from:
1. Different progress area sizing
2. Different padding/gap values

Review and ensure:
- Same padding values (0.875rem 1rem)
- Same gap values between info and progress (1rem)
- Progress area height consistency
  </action>
  <verify>Loading card → puzzle card transition should feel smooth without layout jumps</verify>
  <done>PuzzleCard and LoadingCard have visually consistent layouts</done>
</task>

<task type="auto">
  <name>Fix UAT-003: Header alignment at 390px viewport</name>
  <files>src/components/Library/LibraryView.css</files>
  <action>
Fix header layout at 390px mobile viewport:
- Gear icon should remain aligned with title (same row)
- Reduce excess vertical padding

Current issue: At 600px breakpoint, `flex-wrap: wrap` causes `.library-actions` to wrap to a new row and take full width.

For narrow viewports (390px), the header should stay in a single row:
- Remove or adjust `flex-wrap: wrap` behavior
- Keep header compact without wrapping
- Ensure gear icon stays right-aligned in same row as title
- Reduce padding for compact mobile look
  </action>
  <verify>At 390px viewport, title and gear icon should be on same row with proper alignment</verify>
  <done>Header stays single-row and compact at 390px</done>
</task>

<task type="checkpoint:playwright">
  <name>Verify all fixes with Playwright</name>
  <verify>
Test at 390px viewport width:
1. FAB options right-align with FAB button edge (no unequal distances)
2. Header: title and gear icon on same row, properly aligned
3. Download a puzzle and verify the loading→loaded card transition is smooth
  </verify>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All critical issues fixed
- [ ] All major issues fixed
- [ ] Minor issues fixed or documented as deferred
- [ ] Original acceptance criteria from issues met
</verification>

<success_criteria>
- All UAT issues from 09-01-ISSUES.md addressed
- Tests pass
- Ready for re-verification
</success_criteria>

<output>
After completion, create `.planning/phases/09-ui-refinements/09-01-FIX-SUMMARY.md`
</output>
