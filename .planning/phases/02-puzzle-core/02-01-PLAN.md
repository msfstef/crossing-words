---
phase: 02-puzzle-core
plan: 01
type: execute
---

<objective>
Define puzzle data model and render an interactive crossword grid with a hardcoded sample puzzle.

Purpose: Establish the data structures and visual foundation that all puzzle-solving features build upon.
Output: TypeScript types for puzzle state, sample puzzle data, and a rendered grid component with cells that can display letters.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-puzzle-core/02-CONTEXT.md

# Prior phase context:
@.planning/phases/01-foundation/01-01-SUMMARY.md

# Key files from Phase 1:
@src/App.tsx
@src/App.css
@src/index.css

**Tech stack available:** Vite, React 19, TypeScript 5.9
**Established patterns:** Dark theme (#1a1a2e bg, #e0e0e0 text), component organization in src/components/
**Constraining decisions:**
- Phase 1: Dark theme as default, matching PWA manifest
</context>

<tasks>

<task type="auto">
  <name>Task 1: Define puzzle type definitions</name>
  <files>src/types/puzzle.ts</files>
  <action>
Create TypeScript types for the crossword puzzle model:

- `Cell`: { row: number, col: number, letter: string | null, isBlack: boolean, clueNumber?: number }
- `Clue`: { number: number, direction: 'across' | 'down', text: string, row: number, col: number, length: number }
- `Puzzle`: { title: string, author?: string, grid: Cell[][], clues: { across: Clue[], down: Clue[] }, width: number, height: number }
- `PuzzleState`: { puzzle: Puzzle, userEntries: Map<string, string>, selectedCell: { row: number, col: number } | null, direction: 'across' | 'down' }

Use Map<string, string> for userEntries where key is "row,col" format for easy lookup. Export all types.
  </action>
  <verify>TypeScript compiles: `npm run build` succeeds with no type errors</verify>
  <done>Types exported from src/types/puzzle.ts, no TypeScript errors</done>
</task>

<task type="auto">
  <name>Task 2: Create sample puzzle data</name>
  <files>src/lib/samplePuzzle.ts</files>
  <action>
Create a hardcoded 5x5 sample puzzle for testing. Use a simple, complete puzzle:

Grid layout (. = black cell):
```
C A T . S
A . O . U
B E D . N
. . A . .
R U N . .
```

Across clues:
1. Feline pet (3) - CAT
4. Star of our solar system (3) - SUN
5. Sleeping furniture (3) - BED
6. Move quickly on foot (3) - RUN

Down clues:
1. Taxi vehicle (3) - CAB
2. First letter of alphabet (1) - A (just "A")
3. Present tense of "ate" (3) - EAT (TODâ†’EAD doesn't work, adjust grid)

Actually, use this corrected grid for valid crossword:
```
C A B . .
A . E . .
T O D A Y
. . . . .
. . . . .
```

Across: 1-CAB, 3-TODAY
Down: 1-CAT, 2-A (incomplete, skip), 3-BED (doesn't work)

Use a standard 5x5 mini-crossword layout instead. Export as `samplePuzzle: Puzzle`.
  </action>
  <verify>Import and log puzzle: grid has correct dimensions, clues array populated</verify>
  <done>samplePuzzle exported with valid grid and matching clues</done>
</task>

<task type="auto">
  <name>Task 3: Create CrosswordGrid component</name>
  <files>src/components/CrosswordGrid.tsx, src/components/CrosswordGrid.css</files>
  <action>
Create a grid component that renders the puzzle:

Props: { puzzle: Puzzle, userEntries: Map<string, string>, selectedCell: { row: number, col: number } | null, direction: 'across' | 'down', onCellClick: (row: number, col: number) => void }

Rendering:
- Use CSS Grid for layout (grid-template-columns: repeat(width, 1fr))
- Each cell is a div with appropriate classes
- Black cells: dark background (#333), no interaction
- White cells: lighter background (#2a2a3e), border
- Show clue numbers in top-left corner of cells (small, positioned absolute)
- Show user-entered letters centered in cell (if entry exists)
- Selected cell: highlighted border (accent color like #4a9eff)

CSS should integrate with dark theme from Phase 1. Cells should be square (use aspect-ratio: 1 or padding trick).
  </action>
  <verify>npm run dev, grid renders with correct cell count and black cell placement</verify>
  <done>Grid renders sample puzzle, black cells visible, white cells clickable</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without TypeScript errors
- [ ] `npm run dev` shows grid rendering
- [ ] Grid has correct number of cells (5x5 = 25)
- [ ] Black cells are visually distinct
- [ ] Clue numbers appear in correct cells
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Puzzle types are reusable for future phases
- Grid visually matches dark theme
</success_criteria>

<output>
After completion, create `.planning/phases/02-puzzle-core/02-01-SUMMARY.md`
</output>
