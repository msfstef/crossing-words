# Milestone v1.0: MVP

**Status:** SHIPPED 2026-01-12
**Phases:** 1-10 (plus 3.1, 6.1 insertions)
**Total Plans:** 37 (33 regular + 4 FIX)

## Overview

Build a peer-to-peer collaborative crossword PWA from the ground up: establish the foundation, implement single-player puzzle solving, add real-time multiplayer sync via CRDTs and WebRTC, then polish with mobile UX and offline support. Each phase delivers a working increment toward the vision of "Google Docs for crosswords."

## Phases

### Phase 1: Foundation
**Goal**: Establish PWA project structure with TypeScript, Vite, and basic shell
**Depends on**: Nothing (first phase)
**Plans**: 1 plan + 1 FIX

Plans:
- [x] 01-01: Project setup with Vite + React + TypeScript
- [x] 01-01-FIX: PWA manifest icon paths fix

### Phase 2: Puzzle Core
**Goal**: Render crossword grid, handle keyboard navigation, display clues
**Depends on**: Phase 1
**Plans**: 3 plans

Plans:
- [x] 02-01: Grid component and puzzle state
- [x] 02-02: Keyboard navigation and input
- [x] 02-03: Clue navigation and word skipping

### Phase 3: Puzzle Import
**Goal**: Parse and load crossword files in .puz, .ipuz, and .jpz formats
**Depends on**: Phase 2
**Plans**: 2 plans

Plans:
- [x] 03-01: Parser implementations for all formats
- [x] 03-02: File upload UI and integration

### Phase 3.1: Puzzle Downloader (INSERTED)
**Goal**: Automatic downloader from remote sources with picker for source and day
**Depends on**: Phase 3
**Plans**: 2 plans

Plans:
- [x] 3.1-01: Cloudflare CORS proxy worker
- [x] 3.1-02: Puzzle source registry and download UI

### Phase 4: CRDT State
**Goal**: Implement conflict-free puzzle state using CRDTs for multiplayer sync
**Depends on**: Phase 2
**Plans**: 2 plans

Plans:
- [x] 04-01: Yjs integration with IndexedDB persistence
- [x] 04-02: React hook with useSyncExternalStore

### Phase 5: P2P Networking
**Goal**: Establish WebRTC peer connections with signaling and TURN fallback
**Depends on**: Phase 4
**Plans**: 2 plans

Plans:
- [x] 05-01: y-webrtc provider with local signaling
- [x] 05-02: Connection state UI indicator

### Phase 6: Collaboration
**Goal**: Add presence indicators, session sharing via link/QR, timeline system
**Depends on**: Phase 5
**Plans**: 4 plans + 1 FIX

Plans:
- [x] 06-01: Awareness and collaborator presence
- [x] 06-02: Share dialog with URL generation
- [x] 06-03: Word highlighting for collaborators
- [x] 06-04: Timeline collision handling
- [x] 06-FIX: Puzzle sync and connection improvements

### Phase 6.1: Cloudflare Worker Signaling (INSERTED)
**Goal**: Replace local signaling server with Cloudflare Worker for production P2P connections
**Depends on**: Phase 6
**Plans**: 1 plan

Plans:
- [x] 6.1-01: Durable Object WebSocket signaling

### Phase 7: Check/Reveal
**Goal**: Implement verification at letter, word, and puzzle levels with auto-check option
**Depends on**: Phase 4
**Plans**: 3 plans

Plans:
- [x] 07-01: Verification logic in CRDT layer
- [x] 07-02: Visual feedback (green dots, red shake)
- [x] 07-03: Auto-check setting synced via CRDT

### Phase 8: Polish & PWA
**Goal**: Custom mobile keyboard, dark/light mode, offline support, PWA installability
**Depends on**: Phase 6, Phase 7
**Plans**: 5 plans

Plans:
- [x] 08-01: Theme system with localStorage persistence
- [x] 08-02: Puzzle library with IndexedDB metadata
- [x] 08-03: Responsive layout with CSS Grid
- [x] 08-04: Virtual keyboard with react-simple-keyboard
- [x] 08-05: Service worker with Workbox

### Phase 9: UI Refinements
**Goal**: UI refinements, details, polish
**Depends on**: Phase 8
**Plans**: 5 plans + 1 FIX

Plans:
- [x] 09-01: FAB download picker with animation
- [x] 09-01-FIX: Download state management
- [x] 09-02: Clue list scrollable overlay
- [x] 09-03: Settings menu consolidation
- [x] 09-04: Clue bar improvements
- [x] 09-05: Visual polish pass

### Phase 10: Gameplay Flow Improvements
**Goal**: Fix cell sizing for all puzzle sizes, share cursor position in collaboration, auto-generate timeline on puzzle open
**Depends on**: Phase 9
**Plans**: 3 plans + 1 FIX

Plans:
- [x] 10-01: Fixed cell sizing with responsive bounds
- [x] 10-01-FIX: ResizeObserver for dynamic sizing
- [x] 10-02: Cursor position sharing
- [x] 10-03: Auto-timeline generation

---

## Milestone Summary

**Decimal Phases:**
- Phase 3.1: Puzzle Downloader (inserted after Phase 3 for daily puzzle sources)
- Phase 6.1: Cloudflare Worker Signaling (inserted after Phase 6 for production P2P)

**Key Decisions:**
- PWA with Vite + React + TypeScript (simple setup, fast dev)
- Yjs for CRDT (mature, y-webrtc integration)
- Flat Y.Map with 'row,col' keys (matches userEntries pattern)
- y-webrtc for P2P (handles signaling, ICE, reconnection)
- Cloudflare Durable Objects for production signaling
- react-simple-keyboard for mobile input
- useSyncExternalStore pattern throughout (React 18 compatible)
- CSS Grid layout with flexbox fallbacks
- Timeline auto-generated on puzzle open (instant P2P readiness)

**Issues Resolved:**
- CORS proxy for puzzle downloads
- Icon path resolution in PWA manifest
- Puzzle sync via CRDT when joining sessions
- Cell sizing for variable puzzle dimensions
- Color collision detection for collaborators

**Issues Deferred:**
- Pencil mode (v2)
- Timer/stats tracking (v2)
- Native mobile apps (v2)

**Technical Debt Incurred:**
- None significant

---

_For current project status, see .planning/ROADMAP.md_
