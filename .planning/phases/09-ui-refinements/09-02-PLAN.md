---
phase: 09-ui-refinements
plan: 02
type: execute
---

<objective>
Replace progress bars with compact circular progress indicators in the library puzzle cards.

Purpose: Cleaner visual representation of puzzle progress with checkmark for completed puzzles.
Output: Circular progress component showing percentage filled, with checkmark for complete puzzles.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-ui-refinements/09-CONTEXT.md
@.planning/phases/09-ui-refinements/09-01-SUMMARY.md (if exists)

**Relevant source files:**
@src/components/Library/PuzzleCard.tsx
@src/components/Library/PuzzleCard.css

**Prior decisions:**
- Progress calculated as filled/total cells (08-02)
- Library as default view (08-02)

**Tech stack:**
- React 18 with hooks
- CSS with CSS variables for theming
- SVG for circular progress (stroke-dasharray/dashoffset pattern)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create circular progress indicator component</name>
  <files>src/components/Library/ProgressCircle.tsx, src/components/Library/ProgressCircle.css</files>
  <action>
Create a ProgressCircle component using SVG:
- Circular progress indicator showing percentage filled
- Size: 32px diameter (compact, fits in card)
- Background ring in muted color (--color-border or similar)
- Progress arc in accent color (--color-accent)
- Use stroke-dasharray/stroke-dashoffset for progress arc (standard SVG pattern)
- When complete (100%): show filled circle with checkmark icon inside
- For 0%: show empty ring
- For loading state (progress.filled === -1): show indeterminate state or empty ring

Props:
- percentage: number (0-100)
- isComplete: boolean
- size?: number (default 32)

SVG implementation:
- viewBox="0 0 36 36" (standard for progress circles)
- Circle with r="16" for track
- Circle with r="16" for progress, rotated -90deg to start from top
- stroke-dasharray="100" with stroke-dashoffset for percentage
- For checkmark: simple path inside circle when complete

CSS:
- Transition on stroke-dashoffset for smooth progress changes
- Green color for complete state (--color-success or similar, fallback to #22c55e)
  </action>
  <verify>Component renders with correct progress visualization at 0%, 50%, 100%</verify>
  <done>ProgressCircle component displays percentage as circular arc with checkmark for complete</done>
</task>

<task type="auto">
  <name>Task 2: Replace progress bar with circle in PuzzleCard</name>
  <files>src/components/Library/PuzzleCard.tsx, src/components/Library/PuzzleCard.css</files>
  <action>
Update PuzzleCard to use ProgressCircle:
- Import ProgressCircle component
- Replace progress bar div structure with ProgressCircle
- Remove progress bar CSS (or keep for reference during transition)
- Adjust card layout:
  - Card should have: info on left, progress circle on right, delete button
  - Remove the separate progress text span (circle shows it visually)
  - Optionally show percentage inside circle for non-complete states

Layout adjustment:
- .puzzle-card__content: flex with space-between
- .puzzle-card__info: title/subtitle on left
- .puzzle-card__progress: just the ProgressCircle, no bar
- Delete button: stays on far right

Remove the old progress bar styles:
- .puzzle-card__progress-bar
- .puzzle-card__progress-fill
- .puzzle-card__progress-text
  </action>
  <verify>Library cards show circular progress, complete puzzles show checkmark</verify>
  <done>PuzzleCard uses ProgressCircle instead of progress bar, layout is clean and compact</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Circular progress indicators in library puzzle cards</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Open app in library view
    3. Verify puzzle cards show circular progress indicators (not bars)
    4. Check a puzzle with 0% progress - should show empty circle
    5. Check a puzzle with partial progress - should show filled arc
    6. Check a complete puzzle (if any) - should show filled circle with checkmark
    7. Verify layout is clean: title on left, circle on right, delete button visible
    8. Test at 390px mobile width - circles should be appropriately sized
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] ProgressCircle component renders correctly at all percentage levels
- [ ] Complete puzzles show checkmark
- [ ] PuzzleCard layout is clean and compact
- [ ] No visual regressions on mobile viewport
- [ ] npm run build succeeds
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Progress bars replaced with circular indicators
- Complete puzzles show clear visual distinction (checkmark)
</success_criteria>

<output>
After completion, create `.planning/phases/09-ui-refinements/09-02-SUMMARY.md`
</output>
